<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PunjRoBoTech Projects</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: "Times New Roman", serif; }
</style>
</head>
<body class="bg-gray-900 text-white">

<!-- ===================== HOME SECTION ===================== -->
<section id="home" class="min-h-screen flex flex-col items-center justify-center gap-6 p-6">
  <h1 class="text-4xl font-bold">PunjRoBoTech</h1>
  <p class="text-center max-w-lg text-gray-300">
    Arduino, ESP & AT89C51/52 Based Project Development & Custom Electronics Solutions.
  </p>

  <div class="space-y-4 w-full max-w-xs">
    <button onclick="showSection('projects')" class="bg-blue-600 w-full p-4 rounded-lg text-xl hover:bg-blue-700">
      Predefined Projects
    </button>

    <button onclick="showSection('custom')" class="bg-yellow-600 w-full p-4 rounded-lg text-xl hover:bg-yellow-700">
      Custom Project Request
    </button>
  </div>
</section>

<!-- ===================== PROJECTS SECTION ===================== -->
<section id="projects" class="hidden p-6 min-h-screen">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-3xl font-bold">Predefined Projects</h2>
    <button onclick="toggleCart()" class="bg-green-600 px-4 py-2 rounded-lg hover:bg-green-700">
      Cart (<span id="cart-count">0</span>)
    </button>
  </div>

  <div id="project-list" class="grid grid-cols-1 sm:grid-cols-2 gap-6"></div>

  <button onclick="showSection('home')" class="mt-8 bg-red-600 px-6 py-3 rounded-lg hover:bg-red-700">
    Back to Home
  </button>
</section>

<!-- ===================== CUSTOM PROJECT SECTION ===================== -->
<section id="custom" class="hidden p-6 min-h-screen max-w-xl mx-auto">
  <h2 class="text-3xl font-bold text-center mb-6">Custom Project Request</h2>

  <form onsubmit="submitCustom(event)" class="space-y-4">
    <textarea id="custom-details" class="w-full p-4 rounded bg-gray-800"
      placeholder="Describe your custom project..." rows="5" required></textarea>
    <input id="custom-name" class="w-full p-3 rounded bg-gray-800" placeholder="Your Name" required>
    <input id="custom-phone" class="w-full p-3 rounded bg-gray-800" placeholder="Phone Number" required>
    <input id="custom-address" class="w-full p-3 rounded bg-gray-800" placeholder="Address" required>

    <button class="bg-yellow-600 hover:bg-yellow-700 w-full p-3 rounded">Send Custom Request via WhatsApp</button>
  </form>

  <button onclick="showSection('home')" class="mt-6 bg-red-600 px-6 py-3 rounded-lg hover:bg-red-700 w-full">
    Back to Home
  </button>
</section>

<!-- ===================== CART MODAL ===================== -->
<div id="cart-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4">
  <div class="bg-gray-800 p-6 rounded-lg w-full max-w-md">
    <h3 class="text-xl font-bold mb-4">Your Cart</h3>
    <ul id="cart-items" class="mb-4 text-gray-300"></ul>

    <p id="cart-total" class="text-lg font-bold text-green-400 mb-4"></p>

    <form id="cart-contact-form" class="space-y-3">
      <input id="cart-name" class="w-full p-3 rounded bg-gray-700 text-white" placeholder="Your Name" required>
      <input id="cart-phone" class="w-full p-3 rounded bg-gray-700 text-white" placeholder="Phone Number" required>
      <input id="cart-address" class="w-full p-3 rounded bg-gray-700 text-white" placeholder="Address" required>
      <button type="button" onclick="sendWhatsAppOrder()" class="w-full bg-green-600 p-3 rounded-lg hover:bg-green-700">
        Send Order via WhatsApp
      </button>
    </form>

    <button onclick="toggleCart()" class="w-full bg-red-600 p-3 rounded-lg hover:bg-red-700 mt-2">
      Close
    </button>
  </div>
</div>

<!-- ===================== FOOTER ===================== -->
<footer class="text-center py-6 text-gray-400">
  © 2025 punjrobotech.com — All rights reserved.
</footer>

<!-- ===================== JAVASCRIPT ===================== -->
<script>
function showSection(id) {
  document.querySelectorAll("section").forEach(s => s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

/* ------------------- Projects With Prices ------------------- */
const predefinedProjects = [
  { name: "Ultrasonic Obstacle Avoiding Car", price: 899 },
  { name: "Smart Irrigation System", price: 799 },
  { name: "Temperature Monitoring System", price: 699 },
  { name: "ESP32 Bluetooth Car", price: 999 },
  { name: "Arduino Line Follower Robot", price: 999 },
  { name: "Useless Box", price: 499 },
  { name: "Birthday Wishing Box", price: 399 },
  { name: "Smoke Detecting Alarm", price: 349 },
  { name: "Room Decoration Light Glowing Box", price: 299 }
];

const cart = JSON.parse(localStorage.getItem("cart")) || [];
updateCartCount();

function renderProjects() {
  const container = document.getElementById("project-list");
  container.innerHTML = "";
  predefinedProjects.forEach(p => {
    container.innerHTML += `
      <div class="bg-gray-800 p-4 rounded-lg shadow-lg">
        <h4 class="text-lg font-bold mb-1">${p.name}</h4>
        <p class="text-yellow-400 font-bold mb-2">₹${p.price}</p>
        <button onclick="addToCart('${p.name}', ${p.price})" class="bg-green-600 px-3 py-2 rounded hover:bg-green-700">
          Add to Cart
        </button>
      </div>
    `;
  });
}
renderProjects();

function addToCart(name, price) {
  cart.push({ name, price });
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
  alert("Added to cart!");
}

function updateCartCount() {
  document.getElementById("cart-count").innerText = cart.length;
}

/* ------------------- Cart Modal ------------------- */
function toggleCart() {
  document.getElementById("cart-modal").classList.toggle("hidden");
  loadCart();
}

function loadCart() {
  const list = document.getElementById("cart-items");
  list.innerHTML = "";

  if (cart.length === 0) {
    list.innerHTML = "<p class='text-gray-400'>Cart is empty</p>";
    document.getElementById("cart-total").innerText = "";
    return;
  }

  let total = 0;

  cart.forEach((item, index) => {
    total += item.price;
    list.innerHTML += `
      <li class="p-2 bg-gray-700 rounded mb-2 flex justify-between items-center">
        ${item.name} - <span class="text-yellow-400 font-bold">₹${item.price}</span>
        <button onclick="removeFromCart(${index})" class="bg-red-600 px-3 py-1 rounded hover:bg-red-700 text-sm">
          Remove
        </button>
      </li>
    `;
  });

  document.getElementById("cart-total").innerText = "Total: ₹" + total;
}

function removeFromCart(index) {
  cart.splice(index, 1);
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartCount();
  loadCart();
}

/* ------------------- WhatsApp Order ------------------- */
function sendWhatsAppOrder() {
  if (cart.length === 0) {
    alert("Cart is empty!");
    return;
  }

  const name = document.getElementById("cart-name").value;
  const phone = document.getElementById("cart-phone").value;
  const address = document.getElementById("cart-address").value;

  if (!name || !phone || !address) {
    alert("All details are required!");
    return;
  }

  let list = "";
  let total = 0;

  cart.forEach(i => {
    list += `${i.name} - ₹${i.price}\n`;
    total += i.price;
  });

  const message =
    `Hello! I want to order the following projects:\n\n${list}\nTotal: ₹${total}\n\nName: ${name}\nPhone: ${phone}\nAddress: ${address}`;

  const url = "https://wa.me/917526960761?text=" + encodeURIComponent(message);
  window.open(url, "_blank");

  localStorage.removeItem("cart");
  updateCartCount();
  toggleCart();
}

/* ------------------- Custom Project WhatsApp ------------------- */
function submitCustom(event) {
  event.preventDefault();

  const name = document.getElementById("custom-name").value;
  const phone = document.getElementById("custom-phone").value;
  const address = document.getElementById("custom-address").value;
  const details = document.getElementById("custom-details").value;

  const message = `Hello! I have a custom project request:\n\nDetails: ${details}\nName: ${name}\nPhone: ${phone}\nAddress: ${address}`;
  const url = "https://wa.me/917526960761?text=" + encodeURIComponent(message);
  window.open(url, "_blank");

  document.getElementById("custom-name").value = "";
  document.getElementById("custom-phone").value = "";
  document.getElementById("custom-address").value = "";
  document.getElementById("custom-details").value = "";
}
</script>

</body>
</html>
